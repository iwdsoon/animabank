<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/489af5cc49.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles/loan-application.css">
    <link rel="shortcut icon" href="./assets/favicon.png" type="image/x-icon">

    <title>Online Banking AnimaBank | Loan Application</title>
</head>

<body>
<div id="app">
    <div id="body">
        <header class="header" id="header">
            <div>
                <img class="header_logo" src="./assets/logoanima.png" alt="logo" />
            </div>

            <div class="notifications">
            <div class="d-flex gap-5 align-items-center">
                <div class="nav-item dropdown">
                    <a class="dropdown" id="messageDropDown" href="#" data-bs-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false">
                        <span
                            class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle"></span>
                        <i class="fa-solid fa-inbox header_icon"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right navbar-dropdown"
                        aria-labelledby="messageDropDown">
                        <p class="dropdown-header">Messages</p>
                        <li class="dropdown-divider"></li>
                        <a class="dropdown-item">
                            <div class="item-thumbnail">
                                <div class="item-icon">
                                    <i class="fa-solid fa-building-columns"></i>
                                </div>
                            </div>
                            <div class="item-content flex-grow">
                                <h6 class="font-weight-normal">Bank</h6>
                                <p class="font-weight-light small-text text-muted mb-0">
                                    Welcome {{client.firstName}}
                                </p>
                            </div>
                        </a>
                    </div>
                </div>

                <div class="nav-item dropdown">
                    <a class="dropdown" id="notificationDropDown" href="#" data-bs-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        <span
                            class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle"></span>
                        <i class="fa-solid fa-bell header_icon"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right navbar-dropdown"
                        aria-labelledby="notificationDropDown">
                        <p class="mb-0 font-weight-normal float-left dropdown-header">
                            Notifications
                        </p>
                        <li class="dropdown-divider"></li>
                        <a class="dropdown-item">
                            <div class="item-thumbnail">
                                <div class="item-icon">
                                    <i class="fa-solid fa-info"></i>
                                </div>
                            </div>
                            <div class="item-content flex-grow">
                                <h6 class="font-weight-normal">Account created</h6>
                                <p class="font-weight-light small-text text-muted mb-0">
                                    Just now
                                </p>
                            </div>
                        </a>
                    </div>
                </div>

                <div class="header_img rounded-circle dropdown">
                    <a class="nav-link dropdown" href="#" id="profileDropDown" data-bs-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        <span class="header_intials">{{intials}}</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown" aria-labelledby="profile">
                        <div class="text-secondary" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Not working">
                            <a class="dropdown-item">
                            <div class="item-thumbnail">
                                <i class="fa-solid fa-gear"></i>
                            </div>
                            <div class="item-content flex-grow">
                                <h6 class="font-weight-normal">Settings</h6>
                            </div>
                            </a>
                        </div>
                        <a @click="logOut" class="dropdown-item">
                            <div class="item-thumbnail">
                                <i class="fa-solid fa-right-from-bracket nav_icon"></i>
                            </div>
                            <div class="item-content flex-grow">
                                <h6 class="font-weight-normal">Log out</h6>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            </div>
        </header>
        <div class="l-navbar" id="nav-bar">
            <nav class="nav">
                <div> 
                    <div class="header_toggle"> <i @click="toggleNav" class="fa-solid fa-bars" id="header-toggle"></i></div>
                            <div id="nav-content">
                                <ul>
                                    <li><a class="nav_link" aria-current="page" href="./dashboard.html"><i class="fa-solid fa-border-all nav_icon"></i>Dashboard</a></li>
                                    <li><a class="nav_link" href="accounts.html"><i class="fa-solid fa-file-invoice-dollar nav_icon"></i>Accounts</a></li>
                                    <li><a class="nav_link" href="./cards.html"><i class="fa-solid fa-credit-card nav_icon"></i>Cards</a></li>
                                    <li><a class="nav_link active" href="#"><i class="fa-solid fa-hand-holding-dollar nav_icon"></i>Loans</a></li>
                                    <li><a class="nav_link" href="./transfers.html"><i class="fa-solid fa-money-bill-transfer nav_icon"></i>Transfers</a></li>
                                </ul>
                            </div>
                </div> 
                <li class="nav-item">
                    <a @click="logOut" class="nav_link" href="#"> <i class="fa-solid fa-right-from-bracket nav_icon"></i> Log out </a>
                </li>
            </nav>
        </div>
        <!--Container Main start-->
        <div class="">

            <h1 class="fw-bolder py-3"><i class="fa-solid fa-hand-holding-dollar body_icons"></i> Loans Available</h1>

            <div class="container">
                <div class="row">
                    <div class="col-lg-4 d-flex justify-content-center">
                        <div class="card">
                            <div class="card-body text-center">
                                <div class="card-img d-flex justify-content-center"> <lottie-player src="https://assets4.lottiefiles.com/packages/lf20_phirz1xm.json"  background="transparent"  speed="1"  style="width: 150px; height: 150px;"  loop  autoplay></lottie-player> </div>
                                <div class="name h5">Personal</div>
                                <div class="card-info"> <p>Max Amount: $100000 </p>
                                    <p>Payments: 6, 12, 24 </p>
                                    <button type="button" class="btn btn-success" @click="showPersonalForm">Apply now</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 d-flex justify-content-center">
                        <div class="card">
                            <div class="card-body text-center">
                                <div class="card-img d-flex justify-content-center"> <lottie-player src="https://assets2.lottiefiles.com/packages/lf20_8NYY2Y.json"  background="transparent"  speed="1"  style="width: 150px; height: 150px;"  loop  autoplay></lottie-player> </div>
                                <div class="name h5">Auto</div>
                                <div class="card-info"> <p>Max Amount: $300000 </p>
                                    <p>Payments: 6, 12, 24, 36</p>
                                    <button type="button" class="btn btn-success" @click="showAutoForm">Apply now</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 d-flex justify-content-center">
                        <div class="card">
                            <div class="card-body text-center">
                                <div class="card-img d-flex justify-content-center"> <lottie-player src="https://assets4.lottiefiles.com/packages/lf20_lQjPRg.json"  background="transparent"  speed="1"  style="width: 150px; height: 150px;"  loop  autoplay></lottie-player> </div>
                                <div class="name h5">Mortgage</div>
                                <div class="card-info"> <p> Max Amount: $500000 </p>
                                    <p>Payments: 12, 24, 36, 48, 60</p>
                                    <button type="button" class="btn btn-success" @click="showMortgageForm" >Apply now</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            
            <div v-if="personalForm">
            <div class="d-flex justify-content-center mt-4 mb-5 flex-wrap">
    
                <form @submit.prevent="applyLoan" class="text-center">
        
                    <div class="p-2"> Loan Type
                            <select class="form-select p-2" aria-label="Default select example" v-model="loanType">
                                <option selected class="text-dark" value="2">Personal</option>
                            </select>
                    </div>
        
                    <div class="p-2"> To which account would you like to destiny the loan?
                      <select class="form-select p-2" aria-label="Default select example" v-model="accountDestination">
                        <option class="text-dark" :value="account.number" v-for="account in accounts">{{account.number}}</option>
                      </select>
                    </div>
        
        
                    <div class="p-2"> Amount
                        <input type="number" class="form-control" v-model="amount">
                    </div>
        
                    <div class="p-2"> Payments
                        <select class="form-select p-2" aria-label="Default select example" v-model="payments">
                            <option class="text-dark" value="6">6</option>
                            <option class="text-dark" value="12">12</option>
                            <option class="text-dark" value="24">24</option>
                        </select>
                    </div>

                    <div class="p-2">Payments amount
                        <span v-show="payments > 0"> $ {{Math.round((parseInt(amount) * 1.2) / parseInt(payments))}}</span>
                    </div>
        
                    <div class="pt-2">
                        <button class="text-dark p-2" type="submit"> Apply Loan </button>
                    </div>
        
                </form>

            </div>
            </div>

            <div></div>

            <div v-if="autoForm">
                <div class="d-flex justify-content-center mt-4 mb-5 flex-wrap">
        
                    <form @submit.prevent="applyLoan" class="text-center">
            
                        <div class="p-2"> Loan Type
                                <select class="form-select p-2" aria-label="Default select example" v-model="loanType">
                                    <option selected class="text-dark" value="3">Auto</option>
                                </select>
                        </div>
            
                        <div class="p-2"> To which account would you like to destiny the loan?
                          <select class="form-select p-2" aria-label="Default select example" v-model="accountDestination">
                            <option class="text-dark" :value="account.number" v-for="account in accounts">{{account.number}}</option>
                          </select>
                        </div>
            
                        <div class="p-2"> Amount
                            <input type="number" class="form-control" v-model="amount">
                        </div>
            
                        <div class="p-2"> Payments
                            <select class="form-select p-2" aria-label="Default select example" v-model="payments">
                                <option class="text-dark" value="6">6</option>
                                <option class="text-dark" value="12">12</option>
                                <option class="text-dark" value="24">24</option>
                                <option class="text-dark" value="36">36</option>
                            </select>
                        </div>
    
                        <div class="p-2">Payments amount
                            <span v-show="payments > 0"> $ {{(parseInt(amount) * 1.2) / parseInt(payments)}}</span>
                        </div>
            
                        <div class="pt-2">
                            <button class="text-dark p-2" type="submit"> Apply Loan </button>
                        </div>
            
                    </form>
    
                </div>
                </div>

                <div v-if="mortgageForm">
                    <div class="d-flex justify-content-center mt-4 mb-5 flex-wrap">
            
                        <form @submit.prevent="applyLoan" class="text-center">
                
                            <div class="p-2"> Loan Type
                                    <select class="form-select p-2" aria-label="Default select example" v-model="loanType">
                                        <option selected class="text-dark" value="1">Mortgage</option>
                                    </select>
                            </div>
                
                            <div class="p-2"> To which account would you like to destiny the loan?
                              <select class="form-select p-2" aria-label="Default select example" v-model="accountDestination">
                                <option class="text-dark" :value="account.number" v-for="account in accounts">{{account.number}}</option>
                              </select>
                            </div>
                
                
                            <div class="p-2"> Amount
                                <input type="number" class="form-control" v-model="amount">
                            </div>
                
                            <div class="p-2"> Payments
                                <select class="form-select p-2" aria-label="Default select example" v-model="payments">
                                    <option class="text-dark" value="12">12</option>
                                    <option class="text-dark" value="24">24</option>
                                    <option class="text-dark" value="36">36</option>
                                    <option class="text-dark" value="36">48</option>
                                    <option class="text-dark" value="36">60</option>
                                </select>
                            </div>
        
                            <div class="p-2">Payments amount:
                                <span v-show="payments > 0"> $ {{(parseInt(amount) * 1.2) / parseInt(payments)}}</span>
                            </div>
                
                            <div class="pt-2">
                                <button class="text-dark p-2" type="submit"> Apply Loan </button>
                            </div>
                
                        </form>
        
                    </div>
                    </div>

        </div>
    </div>
</div>

        <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
        <script type="text/javascript">(function () { var ldk = document.createElement('script'); ldk.type = 'text/javascript'; ldk.async = true; ldk.src = 'https://s.cliengo.com/weboptimizer/62853b43ddf56b002ab367d5/62853b45ddf56b002ab367d8.js?platform=view_installation_code'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ldk, s); })();</script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="https://unpkg.com/vue@3"></script>
        <script src="./scripts/loan-application.js"></script>
</body>

</html>